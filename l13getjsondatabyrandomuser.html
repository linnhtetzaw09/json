<!DOCTYPE html>
<html lang="en">
<head>
    <title>HTTP Request by AJAX - Random User</title>
</head>
<body>

    <script type="text/javascript">

        let uri = `https://randomuser.me/api/`;

        // console.log(uri);

        const xmlhttp = new XMLHttpRequest();

        // console.log(xmlhttp);

        //result = ok
        xmlhttp.open("GET",uri,true);       //true mean synchronize
        xmlhttp.send();

        //no result
        // xmlhttp.open("GET",uri,false);       //false mean asynchronize
        // xmlhttp.send();


        xmlhttp.onreadystatechange = function(){
            // console.log("State Change = ", xmlhttp.readyState,xmlhttp.status);

            if(xmlhttp.readyState === 4 & xmlhttp.status === 200){

                let result = xmlhttp.responseText;

                // console.log(result);

                result = JSON.parse(result);

                console.log(result);

                console.log(result.results);
                console.log(result.results[0]);
                console.log(result.results[0].name);
                console.log(result.results[0].name.title,result.results[0].name.first,result.results[0].name.last);
                console.log(result.results[0]["name"]["title"],result.results[0]["name"]["first"],result.results[0]["name"]["last"]);
                
            }
        }

        //result = ok
        // xmlhttp.open("GET",uri,true);       //true mean synchronize
        // xmlhttp.send();

        //result = ok
        xmlhttp.open("GET",uri,false);       //false mean non-synchronize
        xmlhttp.send();


    </script>
    
</body>
</html>


<!-- 

=> xmlhttp.onreadystatechange
xmlhttp.readySState === 4

0 = UNSENT open() has not been called yet
1 = Opened send() has been called
2 = HEADER_RECEIVED send() has been called and headers and status are available
3 = LOADING download responseText hold partical datas
4 = DONE the operation is completed 

-->